




# 3.5 对电子书进行版本管理


完成与gitbook电子书项目的关联后，就可以在github上进行版本管理了。

### 构建电子书框架

**如果你关联前已经在gitbook中构建好电子的框架了**，那么关联后在github仓库中看到的也是有结构的样子：

![](/assets/guanlian4.png)

**如果你在关联前并没有在gitbook中编辑内容**，那么关联后的效果是这样的：

![](/assets/guanlian5.png)

你可以直接github上进行电子书的框架构建，点击**Create new file**进行文档和文件的创建。


#### 创建文件的方法

在 “Name your file” 的对话框中输入文件名+文件格式缩写，如“readme.md”。由于我们都是使用Markdown来说写作的，因此通常我们创建的都是“.md”格式的文件。

还记得一个电子书必备哪两个文件吗？

- **README.md **

相当于书“序”，此部分的此部分的内容，在电子书的目录中“Introduction”里显示。

- **SUMMARY.md**

SUMMARY.md 是电子书的目录编辑文档，是电子书的目录页，在这个文档里需要把每个目录与它对应的文档地址进行关联。

![](/assets/mul.png)

#### 创建文档的方法

在 “Name your file” 的对话框中输入文档名后，输入“/”键就可完成新文档的创建了。**需要注意的是不要使用中文命名哦。**
![](/assets/xinjianwend.png)

![](/assets/xinjianwend1.png)

值得补充的是，建议大家可以创建两种类型的文档。

- ** chapter X  文档**

在这个文档中管理对章节的文件

![](/assets/chapter.png)



- **assets 文档**

在这个文档中管理所有图片文件

![](/assets/assets.png)

### 编辑电子书内容

新建好文件之后，我们就可以开始编辑内容了。由于我们在编辑文件名时就已经定义好了文件格式（.md格式），因此我们可以直接使用Markdown语法编辑文件。如图所示：

![](/assets/bianji.png)

如果要想查看编辑效果，可以点击“Preview”按钮查看效果。

![](/assets/xiaog.png)

### 保存当前版本内容

编辑好当前内容后，如何进行保存呢？

![](/assets/commit.png)

来到页面底部，我会看到“Commit new file”的对话框。在“提交记录”这个文本框中为你本次操作备注一个名字。它作用是在你未来翻阅查看版本记录时，可以清楚地根据备注来区分和了解每一次创建或删除、修改了什么。不过这里也可以什么都不填，这时页面会默认将文本框中灰色的内容作为本次的提交记录的备注。

而提交记录下面的大文本框为“版本描述”，则是用来对提交记录做详细描述的。由于上面的文本框太小，字数有限，很有可能对操作说明描述的不清楚，因此我们可以在下面的大文本框里进行详细的操作描述。

填好“提交记录”和“版本描述”之后点击页面下方的绿色按钮就可以完成当前版本内容的保存了。


### 查看历史版本记录


![](/assets/lish.png)

保存好当前编辑的版本后，如果我们想查看历史编辑记录，可以点击页面的“History”来查看。

![](/assets/history.png)

如果你想查看版本明细，可以点击“Blame”进行查看。

![](/assets/blame.png)

### 同步 Gitbook

由于我们之前已经完成了github与gitbook的关联，因此当我们每一次完成操作保存时，都会直接与gitbook同步。在gitbook中我们可以同样通过“history”来查看版本编辑记录。

![](/assets/gitbook-history.png)