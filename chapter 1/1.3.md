# 1.3 Github 的工作原理

### 集中式版本控制系统

集中式版本控制系统，顾名思义 说道集中，一定是有一个中心的，这个中心就中央服务器。在集中式版本控制系统中，版本库是集中存放在中央服务器的，而干活的时候，用的都是自己的电脑。所以干活时要先从中央服务器取得最新的版本，然后开始干活，干完活了再把自己的活推送给中央服务器。中央服务器就好比是一个图书馆，你要改一本书，必须先从图书馆借出来，然后回到家自己改，改完了，再放回图书馆。

![](/assets/ENTER.jpeg)

对于一个开源项目，从开发角度讲大体上分为两类人群，一类称为核心开发团队，他们可以向保存源代码的版本库提交，即对源代码的修改具有最终的决定权。另外一类称为贡献者，他们不属于核心开发团队，虽然也能看到源代码，但无权向版本库提交修改。采用传统的集中式版本控制系统（如SVN）的开源项目，这两个群体的用户体验都不是太好。核心开发团队的成员，体验不是太好，是因为如上文所说，凡是涉及到版本库的操作（检入、检出、查看日志等）都需要在联网的状态下进行，网络带宽对用户体验影响相当大。而对于项目的贡献者（非核心成员）也不是很“高兴”，因为他们即便有修改源代码的能力和渴望，也不能直接向版本库提交，要想成为提交者需要一个很长的建立信任的过程。

![](/assets/enter2.png)

### Git 分布式版本控制系统

与集中式版本控制系统不同，分布式版本控制系统根本没有“中央服务器”，每个人的电脑上都可以是一个完整的版本库。这样你在工作的时候就不需要联网了，因为版本库就在你自己的电脑上。

既然每个人电脑上都有一个完整的版本库，那多个人如何协作呢？比方说你在自己电脑上改了文件A，你的同事也在他的电脑上改了文件A，这时，你们俩之间只需把各自的修改推送给对方，就可以互相看到对方的修改了。和集中式版本控制系统相比，分布式版本控制系统的安全性要高很多，因为每个人电脑里都有完整的版本库，某一个人的电脑坏掉了不要紧，随便从其他人那里复制一个就可以了。而集中式版本控制系统的中央服务器要是出了问题，所有人都没法干活了。

![](/assets/fenbu.jpeg)

                                           

使用Git做版本控制，核心开发团队非常“高兴”，因为他们和共享版本库之间不必一直保持连接状态，诸如查看日志、提交、创建分支等几乎全部操作都（脱离网络）在本地的版本库中完成。项目贡献者（非核心成员）也不再那么沮丧，因为版本库人人皆可更改（当然是对本地版本库而言）。

那么如何让贡献者将自己对项目的改进被核心开发团队所了解并接纳。Git提供了多种途径，一个方法是先用git format-patch命令将本地提交转换为补丁文件或补丁文件序列，再通过邮件发送给核心开发团队。另外一个办法就是搭建一个自己专有的共享版本库，通过邮件创建一个拉拽请求（Pull Request），让核心团队的开发者到自己的版本库来抓取（Pull）。

![](/assets/pull request.png)

### 

### Github 的协同模式

GitHub的出现进一步推动了Git的普及，简化了版本控制的管理和操作流程，为开发者提供了更好的交流平台。使用GitHub，无论是项目的核心开发团队，还是普通的项目贡献者都工作得非常“愉快”。创建项目变得非常轻松，创建者只需在GitHub上点击一下鼠标即可创建一个新版本库，通过简单的Web操作即可完成项目授权进而组建项目核心团队。在GitHub中，非核心团队成员参与项目也很容易。先找到自己希望参与的项目，然后只需在Web上点击一下鼠标即可在自己的托管空间下创建一个派生（fork）的项目，并对派生项目的版本库具有读写的完全权限，就好像这个项目原本就是由自己创立的那样。当贡献者完成开发并向自己派生的版本库推送后，可以通过GitHub的Web界面向项目的核心开发团队发送一个Pull Request，请求审核。项目的核心团队收到Pull Request后审核代码，审核通过后可以直接通过Web界面执行合并操作接纳贡献者的提交。

![](/assets/FORK.png)



